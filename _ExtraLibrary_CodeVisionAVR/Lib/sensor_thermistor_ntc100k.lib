// GitHub Account: GitHub.com/AliRezaJoodi

#include <sensor_thermistor_ntc100k.h>

flash float Table_NTC100K[]={
333964, 318871, 303778, 288685, 273592,
258497, 247129, 235761, 224393, 213026,
201659, 192727, 184095, 175463, 166831,
158499, 151892, 145286, 138680, 132074,
125468, 120374, 115280, 110187, 105093,
100000, 96044,  92089,  88133,  84178,
80223,  77130,  74037,  70944,  67851,
64759,  62325,  59891,  57457,  55023,
52589,  50661,  48733,  46806,  44878,
42951,  41415,  39879,  38343,  36807,
35272,  34041,  32810,  31580,  30349,
29119,  28127,  27135,  26144,  25152,
24161,  23357,  22554,  21750,  20947,
20144,  19490,  18836,  18182,  17528,
16874,  16338,  15803,  15268,  14733,
14198,  13758,  13318,  12878,  12438,
11998,  11634,  11271,  10907,  10544,
10181,  9879,   9578,   9276,   8975,
8674,   8423,   8172,   7921,   7670,
7419,   7209,   6999,   6789,   6579,
6369,   6192,   6016,   5839,   5663,
5487,   5338,   5189,   5041,   4892,
4744,   4618,   4492,   4366,   4240,
4115,   4008,   3901,   3794,   3687,
3581,   3490,   3399,   3308,   3217,
3126,   3048,   2970,   2892,   2814,
2737,   2670,   2603,   2537,   2470,
2404,   2346,   2289,   2231,   2174,
2117,   2067,   2017,   1968,   1918,
1869,   1826,   1783,   1740,   1697,
1655,   1617,   1580,   1543,   1506,
1469,   1436,   1404,   1371,   1339,
1307,   1278,   1250,   1222,   1194,
1166,   1141,   1116,   1092,   1067,
1043,   1021,   999.6,  977.9,  956.2,
934.5,  915.5,  896.4,  877.4,  858.3,
839.3,  822.5   ,805.7, 789.0,  772.2,
755.4,  740.6,  725.8,  710.9,  696.1,
681.3,  668.2,  655.1,  642.0,  628.9,
615.8,  604.2,  592.5,  580.9,  569.2,
557.6,  547.3,  536.9,  526.6,  516.2,
505.9,  496.7,  487.5,  478.3,  469.1,
459.9,  451.7,  443.5,  435.2,  427.0,
418.8,  411.4,  404.1,  396.7,  389.4,
382.0,  375.4,  368.8,  362.3,  355.7,
349.1,  343.2,  337.3,  331.3,  325.4,
319.5,  314.2,  308.9,  303.5,  298.2,
292.9,  288.1,  283.3,  278.6,  273.8,
269.0,  264.7,  260.3,  256.0,  251.6,
247.3,  243.4,  239.5,  235.6,  231.7,
227.8,  224.3,  220.7,  217.2,  213.6,
210.1,  206.9,  203.7,  200.5,  197.3,
194.1,  191.2,  188.3,  185.3,  182.4,
179.5,  176.9,  174.2,  171.6,  168.9,
166.3,  163.9,  161.5,  159.0,  156.6,
154.2,  152.0,  149.8,  147.6,  145.4,
143.2,  141.2,  139.2,  137.2,  135.2,
133.2,  131.4,  129.5,  127.7,  125.8,
124.0,  122.3,  120.6,  118.9,  117.2,
115.5,  114.0,  112.4,  110.9,  109.3,
107.8
};
    

//******************************************
//Input:    ohm
//Output:   Temp(^C)
float NTC100K_ConvertOhmToTemp(float ohm){
    unsigned int index=0;
    float temp=-1;
    char error=0;
    
    while(Table_NTC100K[index] > ohm){
        ++index;
        if(index>300){error=1; break;};
    } 
    if(error==0){temp=index;} else{temp=-1;}; 
    
    return temp;
}
