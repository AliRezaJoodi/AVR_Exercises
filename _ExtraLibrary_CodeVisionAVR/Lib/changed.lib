// GitHub Account: GitHub.com/AliRezaJoodi

#include <changed.h>

//***********************************************
uint8_t Changed_Exact_u16(uint16_t value, uint16_t *value_last){
    if(value != *value_last){
        *value_last = value;
        return 1;   // change detected
    }
    else{
        return 0;   // no change
    }
}

//***********************************************
uint8_t Changed_Threshold_u16(uint16_t value, uint16_t *value_last, uint16_t threshold){
    int16_t dif = 0;

    dif = *value_last - value;
    if(dif < 0){ dif = -dif; }

    if(dif >= threshold){
        *value_last = value;
        return 1;
    }
    else{
        return 0;
    }
}

//***********************************************
uint8_t Changed_Threshold_f32(float value, float *value_last, float threshold){
    float dif = 0;

    dif = *value_last - value;
    if(dif < 0){ dif = -dif; }

    if(dif >= threshold){
        *value_last = value;
        return 1;
    }
    else{
        return 0;
    }
}